#!/usr/bin/env ruby

require "bundler/setup"
require "image/tileify"

result = Image::Tileify::Parser.parse(ARGV)

if result[:input_filename].nil?
  puts "No input file specified, Try running '#{File.basename($PROGRAM_NAME)} -h'"
  exit 1
end

begin
  Image::Tileify::Perform.new(result)
rescue Interrupt
  puts "\n\nInterrupt received, exiting.\n"
  exit
end